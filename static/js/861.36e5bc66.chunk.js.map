{"version":3,"file":"static/js/861.36e5bc66.chunk.js","mappings":"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","sources":["webpack://react-rework-05-movies/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://react-rework-05-movies/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","services/movies-services.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Button_button__wiIYs\"};","import s from './Button.module.css';\n\nconst Button = ({ onClick, label, type = 'button', className = '' }) => {\n  return (\n    <button\n      className={`${s.button} ${className}`}\n      type={type}\n      onClick={onClick}\n    >\n      {label}\n    </button>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapperMoviesDetails\":\"MovieDetails_wrapperMoviesDetails__52bSx\",\"listMovieDetails\":\"MovieDetails_listMovieDetails__+FL8r\",\"itemDetails\":\"MovieDetails_itemDetails__rUFIa\",\"titleDetails\":\"MovieDetails_titleDetails__pXpcn\",\"imagePosterDetails\":\"MovieDetails_imagePosterDetails__Ndr5L\",\"textWrapperDetails\":\"MovieDetails_textWrapperDetails__4939D\",\"scoreDetailsSpan\":\"MovieDetails_scoreDetailsSpan__8RO3B\",\"wrapperCastReview\":\"MovieDetails_wrapperCastReview__ZZHb5\",\"linkDetails\":\"MovieDetails_linkDetails__yovRt\",\"active\":\"MovieDetails_active__nw0x6\",\"wrapperProgressBar\":\"MovieDetails_wrapperProgressBar__eeC+3\"};","import { Suspense, useEffect, useState } from 'react';\nimport {\n  NavLink,\n  Outlet,\n  useLocation,\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\nimport clsx from 'clsx';\nimport { ProgressBar } from 'react-loader-spinner';\nimport { BarLoader } from 'react-spinners';\nimport Button from 'components/Button/Button';\n\nimport { fetchMovieDetails } from '../../services/movies-services';\nimport defaultPoster from '../../images/lfc-logo.webp';\n\nimport s from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movie_id } = useParams();\n  const [movie, setMovie] = useState([]);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  //   const [isLoading, setIsLoading] = useState(false);\n\n  const handleGoBack = () => {\n    const { state: lastLocation } = location;\n    // console.log('lastLocation>>', lastLocation);\n    navigate(lastLocation ? lastLocation : '/');\n  };\n\n  useEffect(() => {\n    // console.log('Fetching details for movie_id:', movie_id);\n    // if (!movie) return setIsLoading(true); //не понял почуму все таки это мешало\n\n    const getMovieDetails = async () => {\n      try {\n        const movieData = await fetchMovieDetails(movie_id);\n        setMovie(movieData);\n      } catch (err) {\n        console.error('Error fetching movie details:', err);\n        setError(err.message);\n      } finally {\n        // setIsLoading(false);\n      }\n    };\n    getMovieDetails();\n  }, [movie_id]);\n\n  if (error) return <p>Error: {error}</p>;\n\n  return movie ? (\n    <>\n      <div className={s.wrapperMoviesDetails}>\n        <Button\n          onClick={handleGoBack}\n          label=\" << Back\"\n          type=\"button\"\n          className={s.goBackButton}\n        />\n        <ul className={s.listMovieDetails}>\n          <li className={s.itemDetails} key={movie_id}>\n            <img\n              className={s.imagePosterDetails}\n              src={\n                movie?.poster_path\n                  ? `https://image.tmdb.org/t/p/w200/${movie.poster_path}`\n                  : defaultPoster\n              }\n              alt={movie.title}\n            />\n\n            <div className={s.textWrapperDetails}>\n              <h2 className={s.titleDetails}>\" {movie.title} \"</h2>\n              <h3 className={s.scoreDetails}>\n                <span className={s.scoreDetailsSpan}>Score: </span>\n                {(movie.vote_average || 0).toFixed(1)}/10\n              </h3>\n              <h3 className={s.overviewDetailsTitle}>Overview</h3>\n              <p className={s.overviewDetailsDiscription}>{movie.overview}</p>\n              <h3 className={s.genresDetailsTitle}>Genres</h3>\n              <p className={s.genresDetailsDiscription}>\n                {movie.genres && movie.genres.length > 0\n                  ? movie.genres.map(genre => genre.name).join(', ')\n                  : 'No genres available'}\n              </p>\n            </div>\n          </li>\n        </ul>\n\n        <div className={s.wrapperCastReview}>\n          <NavLink\n            to={'cast'}\n            state={location.state}\n            className={({ isActive }) =>\n              clsx(s.linkDetails, isActive && s.active)\n            }\n          >\n            CAST\n          </NavLink>\n\n          <NavLink\n            to={'reviews'}\n            state={location.state}\n            className={({ isActive }) =>\n              clsx(s.linkDetails, isActive && s.active)\n            }\n          >\n            REVIEWS\n          </NavLink>\n        </div>\n      </div>\n      <Suspense\n        fallback={\n          <BarLoader\n            color=\"#800f0f\"\n            cssOverride={null}\n            height={8}\n            width={200}\n          />\n        }\n      >\n        <Outlet />\n      </Suspense>\n    </>\n  ) : (\n    <div className={s.wrapperProgressBar}>\n      <ProgressBar\n        height=\"80\"\n        width=\"150\"\n        ariaLabel=\"progress-bar-loading\"\n        barColor=\"#dae962\"\n        borderColor=\"#125a1f\"\n        className={s.loader}\n        wrapperClass={s.customProgressBar}\n      />\n      <p>Your movie is coming. Make a breath and enjoy your coffee.</p>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxYTQ0NWVhZTQwMTY5ODllMGM1ZjVmNzg5MDRhYzE0YyIsIm5iZiI6MTczMTU5OTQyNS4xMDgyNTcsInN1YiI6IjY1ZGY2NDg3Yjc2Y2JiMDE2M2Q4MzNkNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.O8jUWu95b2bCdx3mildt7AG2oKspuZGBhdzndcu47T0',\n  },\n};\n\nexport async function fetchTrendingMovies() {\n  const url = `${BASE_URL}/trending/movie/week?language=en-US`;\n\n  return fetch(url, options)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error('Failed to fetch trending movies');\n      }\n      return res.json();\n    })\n    .then(data => {\n      // console.log('Fetched movies:', data.results);\n      return data.results;\n    }) // Возвращаем массив фильмов\n\n    .catch(error => {\n      console.error('Error fetching trending movies:', error);\n      return null; // Возвращаем null в случае ошибки\n    });\n}\n\nexport async function getMoviesByQuery(query, page = 1) {\n  const url = `${BASE_URL}/search/movie?query=${query}&page=${page}`;\n\n  const result = await fetch(url, options);\n\n  if (!result.ok) throw new Error('Fetch failed');\n\n  return result.json();\n}\n\nexport async function fetchMovieDetails(movie_id) {\n  const url = `${BASE_URL}/movie/${movie_id}`;\n  // console.log('Fetching from URL:', url);\n\n  const result = await fetch(url, options);\n  if (!result.ok) throw new Error('Failed to fetch movie details');\n  return result.json();\n}\n\nexport async function fetchMovieCredits(movie_id) {\n  const url = `${BASE_URL}/movie/${movie_id}/credits`;\n\n  const result = await fetch(url, options);\n  if (!result.ok) throw new Error('Failed to fetch movie credits');\n  return result.json();\n}\n\nexport async function fetchMovieReviews(movie_id) {\n  const url = `${BASE_URL}/movie/${movie_id}/reviews`;\n\n  const result = await fetch(url, options);\n  if (!result.ok) throw new Error('Failed to fetch movie reviews');\n  return result.json();\n}\n\nexport async function getActorsByQuery(query, page = 1) {\n  const url = `${BASE_URL}/search/person?query=${query}&page=${page}`;\n\n  const result = await fetch(url, options);\n  if (!result.ok) throw new Error('No actors are found here.');\n  return result.json();\n}\n\nexport async function getMoviesByActor(actor_id, page = 1) {\n  const url = `${BASE_URL}/discover/movie?with_cast=${actor_id}&page=${page}`;\n\n  const result = await fetch(url, options);\n  if (!result.ok) throw new Error('Failed to fetch the movies of this actor');\n  return result.json();\n}\n\nexport async function getActorPhotoAndInfo(actor_id) {\n  const url = `${BASE_URL}/person/${actor_id}`;\n\n  const result = await fetch(url, options);\n  if (!result.ok) throw new Error('Failed to fetch actor photo & info');\n  return result.json();\n}\n"],"names":["_ref","onClick","label","type","className","_jsx","s","children","MovieDetails","movie_id","useParams","movie","setMovie","useState","error","setError","location","useLocation","navigate","useNavigate","useEffect","async","movieData","fetchMovieDetails","err","console","message","getMovieDetails","_jsxs","_Fragment","wrapperMoviesDetails","Button","handleGoBack","state","lastLocation","goBackButton","listMovieDetails","itemDetails","imagePosterDetails","src","poster_path","defaultPoster","alt","title","textWrapperDetails","titleDetails","scoreDetails","scoreDetailsSpan","vote_average","toFixed","overviewDetailsTitle","overviewDetailsDiscription","overview","genresDetailsTitle","genresDetailsDiscription","genres","length","map","genre","name","join","wrapperCastReview","NavLink","to","isActive","clsx","linkDetails","active","_ref2","Suspense","fallback","BarLoader","color","cssOverride","height","width","Outlet","wrapperProgressBar","ProgressBar","ariaLabel","barColor","borderColor","loader","wrapperClass","customProgressBar","BASE_URL","options","method","headers","accept","Authorization","fetchTrendingMovies","fetch","then","res","ok","Error","json","data","results","catch","getMoviesByQuery","query","url","arguments","undefined","result","fetchMovieCredits","fetchMovieReviews","getActorsByQuery","getMoviesByActor","actor_id","getActorPhotoAndInfo"],"sourceRoot":""}